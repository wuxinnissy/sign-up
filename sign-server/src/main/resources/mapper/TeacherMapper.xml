<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
        "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.n1ssy2.mapper.TeacherMapper">
    <select id="getCourseByTeacherId" resultType="com.n1ssy2.entity.Course">
        select a.*
        from course a left join teacher_course b on a.course_id = b.course_id
        where b.teacher_id = #{teacherId}
    </select>

    <insert id="createCheckinRecord">
        insert into checkin_record (checkin_id, student_id, checkin_time, checkin_status) values
        <foreach collection="checkinRecords" item="checkinRecord" separator=",">
            (#{checkinRecord.checkinId},#{checkinRecord.studentId},#{checkinRecord.checkinTime},#{checkinRecord.checkinStatus})
        </foreach>
    </insert>

    <select id="getCourseNamesByCourseId" resultType="String">
        select course_name from course
        <where>
            <foreach collection="cases" item="checkinCase" separator=",">
                course_id = #{checkinCase.courseId}
            </foreach>
        </where>

    </select>

</mapper>